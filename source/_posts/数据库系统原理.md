# 数据库系统原理

### 1、数据的定义

- 数据是是数据库中存储的基本对象，是描述现实世界中各种具体事物或抽象事物的符号。
- 数据和其**语义环境**密切相关
-  数据通常有**型**和**值**之分
- 现实生活中的数据往往不是孤立存在的，它们之间是有**联系**的



### 2、数据库

- 数据库技术本质是一种**数据管理技术**

- 数据管理顾名思义就是对数据的管理，具体来说是指使用电子计算机对数据进行分类、组织、存储、检索和维护

- 几乎所有的行业和部门都存在并且不断产生的大量数据。为了维持正常运作，这些行业和部门都需要持久地存储、维护和管理它们的数据



### 3、数据库管理系统

**数据库管理系统**(Database Management  System)	**<u>DBMS</u>**

常见例子：

​	SYBASE	DB2	ORACLE	MySQL SQLServer

DBMS的主要功能：

- 数据定义	
  - 提供  数据定义语言	（Data Definition  Language，**DDL**）
  - 用于定义数据库中的数据对象和它们的结构
- 数据操纵
  - 提供数据操纵语言（Data Manipulation Language，**DML**）
  - 用于操纵数据，实现对数据库的基本操作（查询、插入、删除和修改）
- 事务管理和运行管理
  - 统一管理数据、控制对数据的并发访问，保证数据的安全性、完整性，确保故障时数据库中数据不被破坏，并且能够恢复到一致状态
- 数据存储和查询处理
  - 确定数据的物理组织和存取方式，提供数据的持久存储和有效访问；
  - 确定查询处理方法，优化查询处理过程
- 数据库的建立和维护
  - 提供实用程序，完成数据库数据批量装载、数据库转储、介质故障恢复、数据库的重组和性能监测等
- 其他
  - 包括DBMS与其它软件通信、异构数据库之间数据转换和互操作等

### 4、数据库系统

-  **数据库系统**由数据库、DBMS（及其开发工具）、应用系统和数据库管理员（DBA）组成

### 5、数据模型

#### 定义

- 数据模型是数据库技术的核心概念
- 所有的DBMS都基于某种数据模型实现，所有的数据库应用都建立在某种数据模型之上
- 数据模型是一种形式机制，用于**数据建模**，描述**数据**、数据之间的**联系**、数据的**语义**、数据上的**操作**和数据的**完整性约束条件**

- 一种好的数据模型要能准确地描述现实世界，容易理解和易于实现

#### 数据模型的层次

-  对数据建模的模型分成两个不同的层次：
  -  **概念模型**也称信息模型，按用户的观点来对现实世界进行数据建模
  -  **数据模型**按计算机系统的观点对信息世界进行数据建模



#### 实体-联系模型（Entity-relationship)

- 是一种广泛使用的概念模型，用于对现实世界建模
-  **E-R模型**基于这样的认识：现实世界由一些称为实体的基本对象和这些对象之间的联系组成
  -  **实体**：是客观存在，并且可以相互区分的对象，它可以是实际存在的事物（如学生），也可以是抽象概念
  -  **实体集**：具有相同属性的实体被汇集在一起，形成实体集
  -  **联系**：是实体之间的关联，它反映了现实世界中实体之间客观存在的关联关系
  -  **属性**：实体或联系的特性

#### 数据模型三要素：

**数据结构**，描述数据库中的对象和对象之间的联系，是对系统静态特性的描述

**数据操作，**查询和更新（包括插入、删除、修改）

**完整性约束**，是一组规则，保证数据的正确、有效和相容



### 关系模型

- **关系模型**是主流的数据模型
- 几乎所有的DBMS都建立在关系模型上或支持关系模型
- 长期以来，关系数据库也一直是数据库的研究与开发的重点
- 关系模型具有坚实的数学基础、简洁的数据表示形式，并且支持易学易用的非过程化语言

##### 关系模型三个要素

- 关系模型的数据结构，关系模型只有一种数据结构——关系
- 关系模型的数据操作
- 关系模型的完整性约束



### 6、数据库系统结构

#### 外部结构

- 单用户系统
- 主从式系统
- 分布式系统
- 客户服务器系统

#### 内部结构

![image-20210315090344839](数据库系统原理.assets/image-20210315090344839.png)

#### 三级模式结构

**外模式**：

-  介于**模式**与**应用**之间，是特定数据库用户的数据视图，是与某一具体应用相关的数据局部逻辑结构的描述
-  外模式**面向具体的应用程序**，定义在模式之上，但独立于存储模式和存储设备
-  外模式是**模式的子集**，但是，在外模式中，同一数据对象的结构、类型、长度等都可以不同于模式
-  一个数据库可以有**多个外模式**，反映不同用户的应用需求和看待数据的方式
-  理想地，所有的应用都建立在一个外模式上，但是实际上，DBMS都允许应用程序直接访问模式
-  外模式与授权配合，限制用户只能访问所对应的外模式中的数据，可以提供一种**保证数据库安全性**的有力措施
-  外模式与外模式-模式映像配合，可以实现一定程度的**数据的逻辑独立性**

**模式：**

-  模式是数据库中**全体数据的总体逻辑结构描述**，是所有用户的公共数据视图
-  模式综合了所有用户的数据需求，因此**一个数据库只有一个模式**
-  模式处于数据库系统模式结构的中间层，与数据的物理存储细节和硬件环境无关，与具体的应用程序、开发工具及高级程序设计语言无关
-  **模式是数据库的中心与关键**，设计数据库结构时应首先确定数据库的模式
-  模式的定义不仅包括数据的逻辑结构(数据项的名字、类型、取值范围等)，而且还包括数据之间的联系、数据有关的安全性和完整性要求

**内模式：**

-  内模式是数据**物理结构和存储方式**的描述，定义数据在数据库内部的表示方式
-  一个数据库只有一个内模式
-  内模式依赖于全局逻辑结构，但它既独立于数据库的用户视图(即外模式)，也独立于具体的存储设备
-  内模式将全局逻辑结构中所定义的数据结构及其联系按照一定的物理存储策略进行组织，以达到较好的时间与空间效率
-  **内模式到物理存储器的映射可以由操作系统实现，或由DBMS实现**

#### 二级映像与数据独立性

**外模式-模式映像**：外模式与模式之间的关系

-  每一个外模式都有一个对应的外模式-模式映像，建立外模式中的数据对象与模式中的数据对象之间的对应关系
-  **外模式-模式映像可以保证外模式的相对稳定性**。模式改变时，数据库管理员可以修改有关的外模式-模式映像，使外模式保持不变，从而**为数据的逻辑独立性提供了保证**
-  通常，外模式-模式映像定义包含在每个外模式的定义中

**模式-内模式映像：**定义数据**全局逻辑结构与存储结构之间的对应关系**

-  数据库的模式-内模式映像是唯一的
-  模式-内模式映像可以保证模式，进而保证**外模式的相对稳定性**
-  当数据的存储结构（内模式）改变时，数据库管理员可以修改模式-内模式映像，使得模式保持不变。这为数据的**物理独立性提供了保证**
-  通常，模式-内模式映像定义包含在模式的定义中

**数据独立性**：数据与应用程序相互独立

-  数据的**逻辑独立性**是指应用程序与数据库的逻辑结构之间的相互独立性
  -  **由外模式-模式映像保证**
-  数据的**物理独立性**是指应用程序与存储在磁盘上的数据库中数据之间的相互独立性
  -  **由模式-内模式映像保证**